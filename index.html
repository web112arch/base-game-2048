"use server";

import { PinataSDK } from "pinata";

// =====================
// Env validation
// =====================
const PINATA_JWT = process.env.PINATA_JWT;
const PINATA_GATEWAY = process.env.NEXT_PUBLIC_GATEWAY_URL;

if (!PINATA_JWT) {
  throw new Error("❌ Missing PINATA_JWT environment variable");
}

if (!PINATA_GATEWAY) {
  throw new Error("❌ Missing NEXT_PUBLIC_GATEWAY_URL environment variable");
}

// =====================
// Pinata Client
// =====================
export const pinata = new PinataSDK({
  pinataJwt: PINATA_JWT,
  pinataGateway: PINATA_GATEWAY,
});
